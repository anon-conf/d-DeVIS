(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],f=0,p=[];f<o.length;f++)s=o[f],r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2796:function(t,e,a){"use strict";var n=a("dc85"),r=a.n(n);r.a},2856:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-container",{attrs:{fluid:""}},[a("router-view")],1)],1)},i=[],s=(a("5c0b"),a("2877")),o={},c=Object(s["a"])(o,r,i,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("div",{staticClass:"sp-container"},[a("div",{staticClass:"sp-content"},[a("div",{staticClass:"sp-globe"}),a("h2",{staticClass:"frame-1"},[t._v("DON'T JUST LISTEN")]),a("h2",{staticClass:"frame-2"},[t._v("SEE THE SOUND")]),a("h2",{staticClass:"frame-3"},[t._v("VISUALIZE IT")]),a("h2",{staticClass:"frame-4"},[t._v("TEST IT!")]),t._m(0),a("router-link",{staticClass:"sp-circle-link",attrs:{to:"/upload"}},[t._v("START")])],1)])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"frame-5"},[a("span",[t._v("UPLOAD")]),a("span",[t._v("EDIT")]),a("span",[t._v("VISUALIZE")])])}],d={name:"Index"},m=d,h=(a("7191"),Object(s["a"])(m,f,p,!1,null,"25c5462d",null));h.options.__file="Index.vue";var v=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("b-container",[a("b-row",{staticClass:"mt-5"},[a("b-col",{staticClass:"mt-5"},[a("b-container",{staticClass:"mt-5"},[a("div",{staticClass:"content"},[a("div",{staticClass:"box"},[a("form",{attrs:{action:"http://localhost:5000/uploader",method:"POST",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.uploadFile(e)}}},[a("input",{staticClass:"inputfile inputfile-4",attrs:{type:"file",name:"file",id:"file-4"},on:{change:t.playMedia}}),a("label",{attrs:{for:"file-4"}},[a("figure",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"5",height:"5",viewBox:"0 0 20 17"}},[a("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})])]),a("span",[t._v("Choose a fileâ€¦")])]),a("br"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Upload The File"}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAudio,expression:"showAudio"}],staticClass:"mt-2"},[a("canvas",{ref:"canvas",attrs:{id:"canvas"}}),a("audio",{ref:"audioControl",attrs:{id:"audio",controls:""}})])])])])],1)],1)],1)],1)},b=[],w=(a("34ef"),a("551c"),a("bc3a")),x=a.n(w),C=!0,y=C?"/api/":"http://localhost:5000/api/",_=x.a.create({baseURL:y,timeout:5e3,headers:{"Content-Type":"application/json"}});_.interceptors.request.use(function(t){return t.headers["Authorization"]="Fake Token",t}),_.interceptors.response.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)}),console.log(_);var S={post:_.post,get:_.get,domain:C?"":"http://localhost:5000"},O={name:"uploadForm",data:function(){return{file:null,showAudio:!1}},methods:{uploadFile:function(){var t=this,e=new FormData;this.file&&(e.append("file",this.file),console.log(S),S.post("/resources/audio",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){return t.data}).then(function(e){e.success&&t.$router.push("visualize")}).catch(function(t){return console.log(t)}))},playMedia:function(t){this.file=t.target.files[0];var e=this.$refs["audioControl"],a=this.$refs["canvas"];this.showAudio=!0,e.src=URL.createObjectURL(this.file),e.load(),e.play();var n=new(window.AudioContext||window.webkitAudioContext),r=n.createMediaElementSource(e),i=n.createAnalyser();a.width=window.innerWidth,a.height=.7*window.innerHeight,console.log(a.height);var s=a.getContext("2d");r.connect(i),i.connect(n.destination),i.fftSize=256;var o=i.frequencyBinCount;console.log(o);var c,l=new Uint8Array(o),u=a.width,f=a.height,p=u/o*2.5,d=0;function m(){requestAnimationFrame(m),d=0,i.getByteFrequencyData(l),s.fillStyle="#000",s.fillRect(0,0,u,f);for(var t=0;t<o;t++){c=l[t];var e=c+t/o*25,a=t/o*250,n=50;s.fillStyle="rgb("+e+","+a+","+n+")",s.fillRect(d,f-c,p,c),d+=p+1}}e.play(),m()}}},k=O,j=(a("c015"),Object(s["a"])(k,g,b,!1,null,"741c91b7",null));j.options.__file="FileUpload.vue";var T=j.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{attrs:{"align-h":"center"}},[a("div",[a("h2",{staticClass:"text-center"},[t._v("Original Image")]),a("img",{staticClass:"image",attrs:{src:t.originalSrc,alt:""}})])]),a("b-row",{staticClass:"mt-3 p-3",attrs:{"align-h":"center"}},[a("b-col",[a("div",{staticClass:"card-holder"},[a("div",{staticClass:"back justify-content-center",style:t.backTransformationObject},[a("div",{staticStyle:{"margin-left":"17px"}},[a("h2",[t._v("Modified Image")]),a("img",{staticClass:"modified-image",attrs:{src:t.modifiedSrc,alt:""}})]),a("div",[a("button",{staticClass:"btn btn-success float-right",staticStyle:{margin:"20px 150px 20px 0px"},on:{click:t.reapply}},[t._v("ReApply\n                        ")])])]),a("div",{staticClass:"front",style:t.frontTransformationObject},[a("modification-panel",{attrs:{parameters:t.parameters,options:t.options}}),a("br"),a("button",{staticClass:"btn btn-primary m-1 float-right",on:{click:t.applyModification}},[t._v("Apply")]),a("button",{staticClass:"btn btn-light m-1 float-right",on:{click:t.reset}},[t._v("Reset")])],1)])])],1)],1)},A=[],E=(a("f751"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{attrs:{"align-h":"center"}},[a("circle-slider",{attrs:{side:150,min:0,max:t.options.maxSlicing,"step-size":10,text:"Slicing","show-value":""},model:{value:t.parameters.slicing,callback:function(e){t.$set(t.parameters,"slicing",e)},expression:"parameters.slicing"}}),a("circle-slider",{attrs:{side:150,max:t.maxCrossfading,text:"Crossfading","show-value":""},model:{value:t.parameters.crossfading,callback:function(e){t.$set(t.parameters,"crossfading",e)},expression:"parameters.crossfading"}}),a("circle-slider",{attrs:{side:150,max:10,text:"Loudness","show-value":""},model:{value:t.parameters.loudness,callback:function(e){t.$set(t.parameters,"loudness",e)},expression:"parameters.loudness"}}),a("circle-slider",{attrs:{side:150,text:"Fade","show-value":""},model:{value:t.parameters.fade,callback:function(e){t.$set(t.parameters,"fade",e)},expression:"parameters.fade"}}),a("circle-slider",{attrs:{side:150,max:4,text:"Repeat","show-value":""},model:{value:t.parameters.repeat,callback:function(e){t.$set(t.parameters,"repeat",e)},expression:"parameters.repeat"}}),a("circle-check",{model:{value:t.parameters.invert,callback:function(e){t.$set(t.parameters,"invert",e)},expression:"parameters.invert"}})],1)],1)}),I=[],M=a("deba"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{staticClass:"fas fa-check-circle fa-10x toggle",class:t.switchStyleObject,on:{click:t.updateValue}},[a("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16",attrs:{"aria-hidden":"true","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",width:"150px",height:"150px",viewBox:"0 0 512 512"}},[a("g",[a("path",{attrs:{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}),a("text",{attrs:{x:"27%",y:"30%","font-size":"75",fill:t.textColor}},[t._v("Invert")])])])])},z=[],U={name:"CircleCheck",props:{value:{type:Boolean,default:!1}},methods:{updateValue:function(){this.$emit("input",!this.value)}},computed:{switchStyleObject:function(){return{"pulsate-fwd":this.value}},textColor:function(){return this.value?"white":"black"}}},F=U,L=(a("75e4"),Object(s["a"])(F,P,z,!1,null,"05dff12a",null));L.options.__file="CircleCheck.vue";var R=L.exports;console.log(M["CircleSlider"]);var D={name:"ModificationPanel",components:{circleSlider:M["CircleSlider"],circleCheck:R},props:["parameters","options"],computed:{maxCrossfading:function(){return 0===this.parameters.slicing?this.options.maxSlicing:this.parameters.slicing}}},X=D,V=(a("f0c0"),Object(s["a"])(X,E,I,!1,null,"15eeeda3",null));V.options.__file="ModificationPanel.vue";var B=V.exports,q="perspective(600px) translateX(-50%) rotateX(0deg)",N="perspective(600px) translateX(-50%) rotateX(0deg)",J="perspective(600px)  translateX(-50%) rotateX(-180deg)",H="perspective(600px) translateX(-50%) rotateX(180deg)",Z={slicing:0,loudness:0,crossfading:0,fade:0,repeat:0,invert:!1},W={name:"VisualizationPage",components:{modificationPanel:B},methods:{applyModification:function(){var t=this,e=this.parameters;S.get("resources/waveform",{params:e}).then(function(e){t.modifiedSrc=S.domain+e.data.link,t.frontTransformationObject.transform=J,t.backTransformationObject.transform=N}).catch(function(t){return console.log(t)})},reapply:function(){this.frontTransformationObject.transform=q,this.backTransformationObject.transform=H},reset:function(){Object.assign(this.parameters,Z)},fetchOriginalImageSrc:function(){var t=this;S.get("resources/waveform").then(function(e){t.originalSrc=S.domain+e.data.link,t.options.maxSlicing=Math.floor(1e3*e.data.duration)})}},created:function(){this.fetchOriginalImageSrc()},data:function(){return{parameters:{slicing:0,loudness:0,crossfading:0,fade:0,repeat:0,invert:!1},options:{maxSlicing:500},originalSrc:"",modifiedSrc:"",frontTransformationObject:{transform:q},backTransformationObject:{transform:H}}}},G=W,K=(a("2796"),Object(s["a"])(G,$,A,!1,null,"286dcb92",null));K.options.__file="VisualizePage.vue";var Q=K.exports;n["a"].use(u["a"]);var Y=new u["a"]({routes:[{path:"/",name:"Index",component:v},{path:"/upload",name:"upload",component:T},{path:"/visualize",name:"visualize",component:Q}]}),tt=a("2f62");n["a"].use(tt["a"]);var et=new tt["a"].Store({state:{},mutations:{},actions:{}}),at=a("9f7b"),nt=(a("f9e3"),a("2dd8"),{formatTimestamp:function(t){var e=new Date(t);return e.toLocaleTimeString("en-US")}});Object.keys(nt).forEach(function(t){n["a"].filter(t,nt[t])}),n["a"].config.productionTip=!1,n["a"].use(at["a"]),new n["a"]({router:Y,store:et,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("2856"),r=a.n(n);r.a},7191:function(t,e,a){"use strict";var n=a("dea4"),r=a.n(n);r.a},"75e4":function(t,e,a){"use strict";var n=a("7fbd"),r=a.n(n);r.a},"7fbd":function(t,e,a){},8605:function(t,e,a){},c015:function(t,e,a){"use strict";var n=a("c4e9"),r=a.n(n);r.a},c4e9:function(t,e,a){},dc85:function(t,e,a){},dea4:function(t,e,a){},f0c0:function(t,e,a){"use strict";var n=a("8605"),r=a.n(n);r.a}});
//# sourceMappingURL=app.7ac28e6f.js.map