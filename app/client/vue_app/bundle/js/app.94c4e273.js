(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)s=o[u],n[s]&&p.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"062c":function(t,e,a){},"0673":function(t,e,a){},"0b8e":function(t,e,a){"use strict";var i=a("c332"),n=a.n(i);n.a},"22c6":function(t,e,a){},"24b2":function(t,e,a){},"261d":function(t,e,a){"use strict";var i=a("22c6"),n=a.n(i);n.a},2856:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},r=[],s=(a("5c0b"),a("2877")),o={},l=Object(s["a"])(o,n,r,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,d=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-screen"},[a("v-toolbar",{attrs:{fixed:"",dark:"",color:"primary"}},[a("v-icon",{on:{click:function(e){t.$router.go(-1)}}},[t._v("keyboard_backspace")]),a("v-toolbar-title",[t._v("d-DeViS")])],1),a("div",{staticClass:"visualization"},[a("div",{staticClass:"image-zoom"},[a("div",{staticClass:"component"},[a("original-image",{attrs:{title:"original prediction",hash:t.hash,digit:t.digit,"link-template":t.linkTemplate}}),a("br"),a("original-image",{attrs:{title:"prediction on modified features","waveform-title":"waveform, modified prediction",hash:t.hash2,digit:t.digit2,"link-template":t.linkTemplate}})],1)]),a("div",[a("h3",{attrs:{STYLE:"text-align: center"}},[t._v("LAYERS")]),a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeLayer,callback:function(e){t.activeLayer=e},expression:"activeLayer"}},[t._l(3,function(e){return a("v-tab",{key:e},[t._v("\n          Layer "+t._s(e)+"\n        ")])}),a("v-tab",[t._v("All Layers")]),t._l(3,function(e){return a("v-tab-item",{key:e},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Original Prediction "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":e}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Modified Prediction "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":e}})],1)}),a("v-tab-item",[a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 1, Original Prediction "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":1}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 1, Modified Prediction "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":1}}),a("br")],1),a("v-divider"),a("br"),a("div",{staticClass:"group-even"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Original Prediction "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":2}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Modified Prediction "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":2}}),a("br")],1),a("v-divider"),a("br"),a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Original Prediction "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":3}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 3, Modified Prediction "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":3}})],1)],1)],2)],1)])],1)},p=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layer-component"},[a("div",{staticClass:"img-container"},[a("div",{staticClass:"text-uppercase title text-md-center mb-3"},[t._v("Layer "+t._s(t.layer)+": "+t._s(t.index))]),a("img",{attrs:{src:t.imgSrc,alt:""}}),a("audio",{ref:"audio",attrs:{controls:""}},[a("source",{attrs:{src:t.audioSrc,type:"audio/wav"}})])])])},h=[],m=(a("a481"),a("c5f63"),{1:"first",2:"second",3:"third"}),f={name:"LayerComponent",props:{index:{type:Number,required:!0},layer:{type:Number,required:!0},hash:{type:String,default:""},linkTemplate:{type:String,required:!0,default:""}},computed:{imgSrc:function(){if(this.linkTemplate){var t="".concat(this.hash).concat(m[this.layer]).concat(this.index,".png");return this.linkTemplate.replace("dummy",t)}return""},audioSrc:function(){if(this.linkTemplate){var t="".concat(this.hash).concat(m[this.layer]).concat(this.index,".wav");return this.linkTemplate.replace("dummy",t)}return""}},methods:{playAudio:function(){this.$refs["audio"].play().catch(function(t){return console.log(t)})}}},g=f,y=(a("b883"),Object(s["a"])(g,v,h,!1,null,"a3ec775e",null));y.options.__file="LayerComponent.vue";var b=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.currentComponent,{tag:"component",on:{"upload-start":function(e){t.uploading=!0},upload:t.uploadFile,"back-click":function(e){t.currentComponent="formUpload"},"on-recorder-selected":t.showRecorder}}),a("br"),t.uploading?a("div",[a("v-progress-circular",{attrs:{indeterminate:t.isInfinite,color:"#0101d5"}}),a("br"),a("br"),a("p",{staticClass:"message"},[t._v("Predicting")])],1):t._e()],1)},_=[],w=a("bc3a"),x=a.n(w),C=!0,S=C?"/api/":"http://localhost:5000/api/",L=x.a.create({baseURL:S,timeout:1e5,headers:{"Content-Type":"application/json"}});L.interceptors.request.use(function(t){return t.headers["Authorization"]="Fake Token",t}),L.interceptors.response.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)}),console.log(L);var T={post:L.post,get:L.get,domain:C?"":"http://localhost:5000"},M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{enctype:"multipart/form-data"}},[a("input",{staticClass:"inputfile inputfile-4",attrs:{type:"file",name:"file",id:"audioInput"},on:{change:t.uploadFile}}),a("label",{attrs:{for:"audioInput"}},[a("figure",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"5",height:"5",viewBox:"0 0 20 17"}},[a("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})])]),a("span",[t._v("Upload")])]),a("span",{staticClass:"record-btn",on:{click:t.onRecordClicked}},[a("figure",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"5",height:"5",viewBox:"0 0 60 60"}},[a("g",[a("path",{attrs:{d:"M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6   c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051   c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z",fill:"#FFFFFF"}}),a("path",{attrs:{d:"M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z",fill:"#FFFFFF"}})])])]),a("span",[t._v("Record")])])])},O=[],R={name:"FormUpload",data:function(){return{uploading:!1,uploadProgress:0,isInfinite:!0,message:"Uploading"}},methods:{uploadFile:function(t){var e=this,a=new FormData,i=t.target.files[0];if(i){a.append("file",i),this.$emit("upload-start");var n={headers:{"Content-Type":"multipart/form-data"}};T.post("/resources/audio",a,n).then(function(t){return t.data}).then(function(t){t.success&&e.$emit("upload",t)}).catch(function(t){return console.log(t)})}else console.log("no file")},onRecordClicked:function(){console.log("record"),this.$emit("on-recorder-selected")}}},U=R,A=(a("6da2"),Object(s["a"])(U,M,O,!1,null,"225aa638",null));A.options.__file="FormUpload.vue";var F,D=A.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recorder"},[a("i",{staticClass:"back-button",on:{click:t.goBack}},[t._v("←")]),a("div",{staticClass:"microphone"},[a("span"),a("svg",{class:t.svgClass,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"5",height:"5",viewBox:"0 0 58 60"}},[a("g",[a("path",{attrs:{d:"M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6   c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051   c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z",fill:"#54a0e4"}}),a("path",{attrs:{d:"M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z",fill:"#54a0e4"}})])])]),a("br"),t.showMessage?a("p",{staticClass:"body-2"},[t._v("Wait for the beep to sound...")]):t._e(),a("div",{staticClass:"actions"},[a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status==='waiting'"}],attrs:{depressed:""},on:{click:t.record}},[a("i",{staticClass:"btn-icon",staticStyle:{color:"red","margin-left":"-4px"}},[t._v("●")]),t._v("\n        Record\n      ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"recording"===t.status,expression:"status==='recording'"}],attrs:{depressed:""},on:{click:t.stop}},[a("i",{staticClass:"btn-icon",staticStyle:{"margin-left":"-5px"}},[t._v("■")]),t._v("\n        Stop\n      ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"stopped"===t.status,expression:"status === 'stopped'"}]},[a("v-btn",{attrs:{depressed:""},on:{click:function(e){t.status="waiting"}}},[a("i",{staticClass:"btn-icon"},[t._v("❌")]),t._v("\n          Discard\n        ")]),a("v-btn",{attrs:{depressed:""},on:{click:t.play}},[a("v-icon",[t._v("play_arrow")]),t._v("\n          play\n        ")],1),a("v-btn",{attrs:{depressed:""},on:{click:t.predict}},[a("i",{staticClass:"btn-icon"},[t._v("✅")]),t._v("\n          predict\n        ")])],1)],1)])])},$=[],j=(a("7f7f"),a("63d9"),a("f751"),a("c665")),E=a("aa9a"),P=a("a322"),N=a("78fe"),V=a.n(N),z=function(){function t(e,a){var i=this;Object(j["a"])(this,t),Object(P["a"])(this,"config",{bufferLen:4096,numChannels:2,mimeType:"audio/wav"}),Object(P["a"])(this,"recording",!1),Object(P["a"])(this,"callbacks",{getBuffer:[],exportWAV:[]}),Object.assign(this.config,a),this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(t){if(i.recording){for(var e=[],a=0;a<i.config.numChannels;a++)e.push(t.inputBuffer.getChannelData(a));i.worker.postMessage({command:"record",buffer:e})}},e.connect(this.node),this.node.connect(this.context.destination);var n={};this.worker=new V.a(function(){var t,e,a=0,i=[];function n(a){t=a.sampleRate,e=a.numChannels,c()}function r(t){for(var n=0;n<e;n++)i[n].push(t[n]);a+=t[0].length}function s(t){for(var n,r=[],s=0;s<e;s++)r.push(d(i[s],a));n=2===e?u(r[0],r[1]):r[0];var o=h(n),l=new Blob([o],{type:t});this.postMessage({command:"exportWAV",data:l})}function o(){for(var t=[],n=0;n<e;n++)t.push(d(i[n],a));this.postMessage({command:"getBuffer",data:t})}function l(){a=0,i=[],c()}function c(){for(var t=0;t<e;t++)i[t]=[]}function d(t,e){for(var a=new Float32Array(e),i=0,n=0;n<t.length;n++)a.set(t[n],i),i+=t[n].length;return a}function u(t,e){var a=t.length+e.length,i=new Float32Array(a),n=0,r=0;while(n<a)i[n++]=t[r],i[n++]=e[r],r++;return i}function p(t,e,a){for(var i=0;i<a.length;i++,e+=2){var n=Math.max(-1,Math.min(1,a[i]));t.setInt16(e,n<0?32768*n:32767*n,!0)}}function v(t,e,a){for(var i=0;i<a.length;i++)t.setUint8(e+i,a.charCodeAt(i))}function h(a){var i=new ArrayBuffer(44+2*a.length),n=new DataView(i);return v(n,0,"RIFF"),n.setUint32(4,36+2*a.length,!0),v(n,8,"WAVE"),v(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,e,!0),n.setUint32(24,t,!0),n.setUint32(28,4*t,!0),n.setUint16(32,2*e,!0),n.setUint16(34,16,!0),v(n,36,"data"),n.setUint32(40,2*a.length,!0),p(n,44,a),n}this.onmessage=function(t){switch(t.data.command){case"init":n(t.data.config);break;case"record":r(t.data.buffer);break;case"exportWAV":s(t.data.type);break;case"getBuffer":o();break;case"clear":l();break}}},n),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(t){var e=i.callbacks[t.data.command].pop();"function"==typeof e&&e(t.data.data)}}return Object(E["a"])(t,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(t){if(t=t||this.config.callback,!t)throw new Error("Callback not set");this.callbacks.getBuffer.push(t),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(t,e){if(e=e||this.config.mimeType,t=t||this.config.callback,!t)throw new Error("Callback not set");this.callbacks.exportWAV.push(t),this.worker.postMessage({command:"exportWAV",type:e})}}],[{key:"forceDownload",value:function(t,e){var a=(window.URL||window.webkitURL).createObjectURL(t),i=window.document.createElement("a");i.href=a,i.download=e||"output.wav";var n=document.createEvent("Event");n.initEvent("click",!0,!0),i.dispatchEvent(n)}}]),t}(),B=z,W=a("9ae0"),J=a.n(W),q=new Audio(J.a),Y=null;function G(){var t;function e(e){var a=t.createMediaStreamSource(e);console.log("Media stream created."),F=new B(a),console.log("Recorder initialised.")}try{window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,window.URL=window.URL||window.webkitURL,t=new AudioContext,console.log("Audio context set up."),console.log("navigator.getUserMedia "+(navigator.getUserMedia?"available.":"not present!"))}catch(t){alert("No web audio support in this browser!")}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia({audio:!0},e,function(t){"NotAllowedError"===t.name&&alert("Permission to use microphone was not authorized. Please refresh the browser to try again.")})}var X={name:"AudioRecorder",data:function(){return{status:"waiting",showMessage:!1,recordedSrc:""}},created:function(){G()},methods:{goBack:function(){this.$emit("back-click")},record:function(){var t=this;this.showMessage=!0,this.status="beforeRecording",setTimeout(function(){t.showMessage=!1,q.play().catch(function(t){return console.log(t)}),setTimeout(function(){t.status="recording",F.record()},300)},1e3)},play:function(){console.log(this.recordedSrc);var t=new Audio(this.recordedSrc);t.play().catch(function(t){return console.log(t)})},stop:function(){var t=this;F&&F.stop(),this.status="stopped",F.exportWAV(function(e){Y=e,t.recordedSrc=URL.createObjectURL(Y),F.clear()})},predict:function(){var t=this,e=new FormData;e.append("file",Y),this.$emit("upload-start");var a={headers:{"Content-Type":"multipart/form-data"}};T.post("/resources/audio",e,a).then(function(t){return t.data}).then(function(e){e.success&&(console.log(e),t.$emit("upload",e))}).catch(function(t){return console.log(t)})}},computed:{svgClass:function(){return"recording"!==this.status?{animated:!1}:{animated:!0}}}},H=X,K=(a("9d53"),Object(s["a"])(H,I,$,!1,null,"228adbca",null));K.options.__file="AudioRecorder.vue";var Q=K.exports,Z={name:"AudioUploadOptions",components:{formUpload:D,audioRecorder:Q},data:function(){return{uploading:!1,uploadProgress:0,currentComponent:"formUpload",isInfinite:!0}},methods:{showRecorder:function(){this.currentComponent="audioRecorder"},uploadFile:function(t){this.$emit("upload",t)}}},tt=Z,et=(a("a981"),Object(s["a"])(tt,k,_,!1,null,"71d73ac0",null));et.options.__file="AudioUploadOptions.vue";var at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"headline mb-2 text-md-center text-uppercase"},[t._v(t._s(t.title)+": "+t._s(t.digit))]),a("img",{attrs:{src:t.imageSrc,alt:""}}),a("audio",{ref:"originalAudio"},[a("source",{attrs:{src:t.audioSrc,type:"audio/wav"}})]),a("div",[a("v-btn",{on:{click:t.play}},[a("v-icon",[t._v("play_arrow")]),t._v("play")],1),a("v-btn",{on:{click:function(e){t.waveformDialog=!0}}},[t._v("WAVEFORM")])],1),a("div",[a("v-dialog",{attrs:{width:"80%"},model:{value:t.waveformDialog,callback:function(e){t.waveformDialog=e},expression:"waveformDialog"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline text-md-center text-uppercase",staticStyle:{width:"100%"}},[t._v(t._s(t.waveformTitle)+" "+t._s(t.digit))])]),a("v-card-text",[a("img",{staticClass:"waveform-img",attrs:{src:t.waveformSrc,alt:""}})])],1)],1)],1)])},nt=[],rt={name:"ImageOriginal",props:{hash:String,linkTemplate:String,digit:Number,title:{type:String,default:"Predicted digit"},waveformTitle:{type:String,default:"WAVEFORM, Original Prediction"}},data:function(){return{waveformDialog:!1}},methods:{play:function(){new Audio(this.audioSrc).play().catch()}},computed:{imageSrc:function(){var t="".concat(this.hash,"original_spectogram.png");return this.linkTemplate.replace("dummy",t)},waveformSrc:function(){var t="".concat(this.hash,"original.png");return this.linkTemplate.replace("dummy",t)},audioSrc:function(){var t="".concat(this.hash,"original.wav");return this.linkTemplate.replace("dummy",t)}}},st=rt,ot=(a("b04e"),Object(s["a"])(st,it,nt,!1,null,"f89e9a0c",null));ot.options.__file="ImageOriginal.vue";var lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"image-grid"},t._l(16,function(e){return a("img",{attrs:{src:t.imageSrc(e),"data-index":e},on:{click:t.display}})})),a("div",{staticStyle:{"text-align":"center"}},[a("v-btn",{on:{click:function(e){t.weightDialog=!0}}},[t._v("Weight Distribution")])],1),a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:t.imageDialog,callback:function(e){t.imageDialog=e},expression:"imageDialog"}},[a("v-card",[a("v-card-text",[a("layer-component",{attrs:{index:t.currentIndex,layer:t.currentLayer,hash:t.hash,"link-template":t.linkTemplate}})],1)],1)],1)],1),a("div",[a("v-dialog",{attrs:{width:"760px"},model:{value:t.weightDialog,callback:function(e){t.weightDialog=e},expression:"weightDialog"}},[a("v-card",[a("div",{staticClass:"headline text-md-center pt-4"},[t._v("WEIGHT DISTRIBUTION, LAYER "+t._s(t.currentLayer))]),a("v-card-text",[a("img",{attrs:{src:t.weightImageSrc,alt:""}})])],1)],1)],1)])},dt=[],ut=[,"first","second","third"],pt={name:"SoundLayer",components:{layerComponent:b},props:{currentLayer:{type:Number,default:1},linkTemplate:{type:String,default:"",required:!0},hash:String},data:function(){return{weightDialog:!1,imageDialog:!1,currentIndex:1}},computed:{weightImageSrc:function(){var t="".concat(this.hash).concat(ut[this.currentLayer],"_distribution.png");return this.linkTemplate.replace("dummy",t)}},methods:{display:function(t){var e=t.target;this.currentIndex=parseInt(e.dataset.index),this.imageDialog=!0},imageSrc:function(t){var e="".concat(this.hash).concat(ut[this.currentLayer]).concat(t,".png");return this.linkTemplate.replace("dummy",e)}}},vt=pt,ht=(a("9ee3"),Object(s["a"])(vt,ct,dt,!1,null,"31272a7e",null));ht.options.__file="SoundLayer.vue";var mt=ht.exports,ft=(console.log,{name:"VisualizeLayer",components:{layerComponent:b,uploadForm:at,originalImage:lt,soundLayer:mt},created:function(){var t=localStorage.getItem("serverResponse"),e=localStorage.getItem("serverResponse2");t&&e?(t=JSON.parse(t),e=JSON.parse(e),this.digit=parseInt(t.data),this.digit2=parseInt(e.data),this.linkTemplate=T.domain+t["link_template"],this.hash=t.hash,this.hash2=e.hash):alert("The model was not loaded successfully. Try uploading the file again.")},data:function(){return{activeLayer:0,digit:"",linkTemplate:"",hash:"",digit2:"",hash2:""}}}),gt=ft,yt=(a("261d"),Object(s["a"])(gt,u,p,!1,null,"12f80b7c",null));yt.options.__file="CompareModified.vue";var bt=yt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-screen"},[a("v-toolbar",{attrs:{fixed:"",dark:"",color:"primary"}},[a("v-icon",{on:{click:function(e){t.$router.go(-1)}}},[t._v("keyboard_backspace")]),a("v-toolbar-title",[t._v("d-DeViS")])],1),a("div",{staticClass:"visualization"},[a("div",{staticClass:"image-zoom"},[a("div",{staticClass:"component"},[a("original-image",{attrs:{hash:t.hash,digit:t.digit,"link-template":t.linkTemplate}}),a("br"),a("original-image",{attrs:{hash:t.hash2,digit:t.digit2,"link-template":t.linkTemplate}})],1)]),a("div",[a("h3",{attrs:{STYLE:"text-align: center"}},[t._v("LAYERS")]),a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeLayer,callback:function(e){t.activeLayer=e},expression:"activeLayer"}},[t._l(3,function(e){return a("v-tab",{key:e},[t._v("\n          Layer "+t._s(e)+"\n        ")])}),a("v-tab",[t._v("All Layers")]),t._l(3,function(e){return a("v-tab-item",{key:e},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Digit "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":e}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Digit "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":e}})],1)}),a("v-tab-item",[a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 1, Digit "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":1}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 1, Digit "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":1}}),a("br")],1),a("v-divider"),a("br"),a("div",{staticClass:"group-even"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Digit "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":2}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Digit "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":2}}),a("br")],1),a("v-divider"),a("br"),a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2, Digit "+t._s(t.digit))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":3}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 3, Digit "+t._s(t.digit2))]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash2,"current-layer":3}})],1)],1)],2)],1)])],1)},_t=[],wt=(console.log,{name:"VisualizeLayer",components:{layerComponent:b,uploadForm:at,originalImage:lt,soundLayer:mt},created:function(){var t=localStorage.getItem("serverResponse"),e=localStorage.getItem("serverResponse2");t&&e?(t=JSON.parse(t),e=JSON.parse(e),this.digit=parseInt(t.data),this.digit2=parseInt(e.data),this.linkTemplate=T.domain+t["link_template"],this.hash=t.hash,this.hash2=e.hash):alert("The model was not loaded successfully. Try uploading the file again.")},data:function(){return{activeLayer:0,digit:"",linkTemplate:"",hash:"",digit2:"",hash2:""}}}),xt=wt,Ct=(a("f282"),Object(s["a"])(xt,kt,_t,!1,null,"0ca461c0",null));Ct.options.__file="CompareSound.vue";var St=Ct.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"400px"}},[a("v-card-text",[a("div",{staticClass:"form-holder"},[a("upload-form",{on:{upload:t.onUploaded}})],1)])],1)],1)],1)],1)],1)},Tt=[],Mt={name:"Login",components:{uploadForm:at},methods:{onUploaded:function(t){localStorage.setItem("serverResponse",JSON.stringify(t)),this.$router.push("/layers")}}},Ot=Mt,Rt=(a("0b8e"),Object(s["a"])(Ot,Lt,Tt,!1,null,"fc4228fa",null));Rt.options.__file="FileUpload.vue";var Ut=Rt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-screen"},[a("v-toolbar",{attrs:{fixed:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("d-DeViS")]),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[a("v-divider",{attrs:{vertical:""}}),a("v-btn",{attrs:{flat:""},on:{click:function(e){t.modify=!0}}},[t._v("Modify")]),a("v-divider",{attrs:{vertical:""}}),a("v-btn",{attrs:{flat:""},on:{click:function(e){t.newAudio=!0}}},[t._v("Compare")]),a("v-divider",{attrs:{vertical:""}})],1)],1),a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:t.newAudio,callback:function(e){t.newAudio=e},expression:"newAudio"}},[a("v-card",[a("v-card-text",[a("upload-form",{on:{upload:t.onUpload}})],1)],1)],1)],1),a("div",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.modify,callback:function(e){t.modify=e},expression:"modify"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.modify=!1}}},[a("v-icon",[t._v("keyboard_backspace")])],1),a("v-toolbar-title",[t._v("Modify Sound")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{loding:t.isPredicting,dark:"",flat:""},nativeOn:{click:function(e){return t.predict(e)}}},[t._v("Predict")])],1)],1),a("div",{staticClass:"original-image"},[a("img",{attrs:{src:t.waveformSrc,alt:""}})]),a("div",{staticClass:"sliders"},["slice"===t.modifier?a("v-range-slider",{attrs:{"thumb-label":"always"},model:{value:t.parameters.slicing,callback:function(e){t.$set(t.parameters,"slicing",e)},expression:"parameters.slicing"}}):t._e(),"crossfade"===t.modifier?a("v-range-slider",{attrs:{"thumb-label":"always"},model:{value:t.parameters.crossfading,callback:function(e){t.$set(t.parameters,"crossfading",e)},expression:"parameters.crossfading"}}):t._e(),"fade"===t.modifier?a("v-slider",{attrs:{"thumb-label":"always"},model:{value:t.parameters.fade,callback:function(e){t.$set(t.parameters,"fade",e)},expression:"parameters.fade"}}):t._e(),a("v-menu",{staticStyle:{"max-width":"600px"},attrs:{absolute:"","position-x":t.x,"position-y":t.y},model:{value:t.menu.loudness,callback:function(e){t.$set(t.menu,"loudness",e)},expression:"menu.loudness"}},[a("v-list",t._l(7,function(e){return a("v-list-tile",{key:e,on:{click:function(a){t.applyLoudness(e)}}},[a("v-list-tile-title",[t._v(t._s(e)+" dB")])],1)}))],1),a("v-menu",{staticStyle:{"max-width":"600px"},attrs:{absolute:"","position-x":t.x,"position-y":t.y},model:{value:t.menu.repeat,callback:function(e){t.$set(t.menu,"repeat",e)},expression:"menu.repeat"}},[a("v-list",t._l(3,function(e){return a("v-list-tile",{key:e,on:{click:function(a){t.applyRepeat(e)}}},[a("v-list-tile-title",[t._v(t._s(e))])],1)}))],1)],1),a("div",{staticClass:"actions"},[""===t.modifier?a("div",{staticClass:"modifiers"},[a("v-btn",{on:{click:t.play}},[a("v-icon",[t._v("play_arrow")]),t._v("Play")],1),a("v-btn",{on:{click:function(e){t.modifier="slice"}}},[t._v("Slice")]),a("v-btn",{on:{click:function(e){t.modifier="crossfade"}}},[t._v("Crossfade")]),a("v-btn",{on:{click:function(e){t.modifier="fade"}}},[t._v("Fade")]),a("v-btn",{on:{click:function(e){t.invert()}}},[t._v("Invert")]),a("v-btn",{on:{click:t.showLoudnessMenu}},[t._v("Loudness")]),a("v-btn",{on:{click:t.showRepeatMenu}},[t._v("Repeat")])],1):a("div",{staticClass:"prompt"},[a("v-btn",{on:{click:function(e){t.modifier=""}}},[a("i",{staticClass:"btn-icon"},[t._v("❌")]),t._v("\n              Discard\n            ")]),a("v-btn",{on:{click:t.apply}},[a("i",{staticClass:"btn-icon"},[t._v("✅")]),t._v("\n              Apply\n            ")])],1)])],1)],1)],1),a("div",{staticClass:"visualization"},[a("div",{staticClass:"image-zoom"},[a("div",{staticClass:"component"},[a("original-image",{attrs:{hash:t.hash,digit:t.digit,"link-template":t.linkTemplate}})],1)]),a("div",[a("h3",{staticClass:"headline mb-2 text-md-center text-uppercase"},[t._v("LAYERS")]),a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeLayer,callback:function(e){t.activeLayer=e},expression:"activeLayer"}},[t._l(3,function(e){return a("v-tab",{key:e},[t._v("\n          Layer "+t._s(e)+"\n        ")])}),a("v-tab",[t._v("All Layers")]),t._l(3,function(e){return a("v-tab-item",{key:e},[a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":e}})],1)}),a("v-tab-item",[a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 1")]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":1}})],1),a("v-divider"),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 2")]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":2}}),a("v-divider"),a("div",{staticClass:"group-odd"},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Layer 3")]),a("sound-layer",{attrs:{"link-template":t.linkTemplate,hash:t.hash,"current-layer":3}})],1)],1)],2)],1)])],1)},Ft=[],Dt=(a("ac6a"),a("456d"),console.log),It={name:"VisualizeLayer",components:{layerComponent:b,uploadForm:at,originalImage:lt,soundLayer:mt},created:function(){var t=localStorage.getItem("serverResponse");Dt(t),t?(t=JSON.parse(t),console.log(t),this.digit=parseInt(t.data),this["linkTemplate"]=T.domain+t["link_template"],this.hash=t.hash):alert("The model was not loaded successfully. Try uploading the file again.")},data:function(){return{isPredicting:!1,newAudio:!1,activeLayer:0,digit:"",linkTemplate:"",hash:"",dialog:!1,currentIndex:1,currentLayer:1,originalFileName:"original",modify:!1,modifier:"",x:0,y:0,menu:{repeat:!1,loudness:!1},parameters:{slicing:[0,100],crossfading:[50,52],loudness:0,fade:0,repeat:0}}},watch:{originalFileName:function(t,e){Dt(t,e)}},methods:{onUpload:function(t){localStorage.setItem("serverResponse2",JSON.stringify(t)),this.$router.push("/compare")},showLoudnessMenu:function(t){var e=this;t.preventDefault(),this.menu.loudness=!1,this.x=t.clientX,this.y=t.clientY,this.$nextTick(function(){e.menu.loudness=!0})},showRepeatMenu:function(t){var e=this;t.preventDefault(),this.menu.repeat=!1,this.x=t.clientX,this.y=t.clientY,this.$nextTick(function(){e.menu.repeat=!0})},sendModificationRequest:function(t){var e=this;t.hash=this.hash,t.filename=this.originalFileName,T.get("resources/waveform",{params:t}).then(function(t){console.log(t),e.originalFileName=t.data.filename,e.modifier=""}).catch(function(t){return console.log(t)})},apply:function(){var t={};switch(this.modifier){case"slice":t.sliceStart=this.parameters.slicing[0],t.sliceEnd=this.parameters.slicing[1];break;case"crossfade":t.crossfadingStart=this.parameters.crossfading[0],t.crossfadingEnd=this.parameters.crossfading[1];break;case"fade":t.fade=this.parameters.fade;break}0!==Object.keys(t).length&&this.sendModificationRequest(t)},applyLoudness:function(t){var e={loud:t};this.sendModificationRequest(e)},applyRepeat:function(t){var e={repeat:t};this.sendModificationRequest(e)},invert:function(){var t={invert:!0};this.sendModificationRequest(t)},predict:function(){var t=this;this.isPredicting=!0;var e={fname:this.originalFileName,hash:this.hash};T.post("/resources/audio",e).then(function(t){return t.data}).then(function(e){console.log(e),t.isPredicting=!1,localStorage.setItem("serverResponse2",JSON.stringify(e)),t.$router.push("/compare-modified")}).catch(function(t){return console.log(t)})},play:function(){var t="".concat(this.hash).concat(this.originalFileName,".wav"),e=this.linkTemplate.replace("dummy",t);console.log(e);var a=new Audio(e);a.play().catch(function(t){return console.log(t)})}},computed:{waveformSrc:function(){var t="".concat(this.hash).concat(this.originalFileName,".png");return this.linkTemplate.replace("dummy",t)}}},$t=It,jt=(a("94b9"),Object(s["a"])($t,At,Ft,!1,null,"6c18602f",null));jt.options.__file="VisualizeLayer.vue";var Et=jt.exports;i["default"].use(d["a"]);var Pt=new d["a"]({routes:[{path:"/",name:"Upload",component:Ut},{path:"/layers",name:"layers",component:Et},{path:"/compare",name:"compare",component:St},{path:"/compare-modified",name:"compare-modified",component:bt}]}),Nt=a("ce5b"),Vt=a.n(Nt);a("bf40");i["default"].config.productionTip=!1,i["default"].use(Vt.a),new i["default"]({router:Pt,render:function(t){return t(c)}}).$mount("#app")},"58ca":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var i=a("2856"),n=a.n(i);n.a},"6da2":function(t,e,a){"use strict";var i=a("aa8a"),n=a.n(i);n.a},"94b9":function(t,e,a){"use strict";var i=a("062c"),n=a.n(i);n.a},"9ae0":function(t,e,a){t.exports=a.p+"media/beep.44496060.wav"},"9d53":function(t,e,a){"use strict";var i=a("c5f6"),n=a.n(i);n.a},"9ee3":function(t,e,a){"use strict";var i=a("a810"),n=a.n(i);n.a},a810:function(t,e,a){},a981:function(t,e,a){"use strict";var i=a("0673"),n=a.n(i);n.a},aa8a:function(t,e,a){},b04e:function(t,e,a){"use strict";var i=a("24b2"),n=a.n(i);n.a},b883:function(t,e,a){"use strict";var i=a("58ca"),n=a.n(i);n.a},b8b3:function(t,e,a){},c332:function(t,e,a){},c5f6:function(t,e,a){},f282:function(t,e,a){"use strict";var i=a("b8b3"),n=a.n(i);n.a}});
//# sourceMappingURL=app.94c4e273.js.map