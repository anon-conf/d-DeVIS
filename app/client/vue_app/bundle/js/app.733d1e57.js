(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"056f":function(e,t,a){"use strict";(function(e,t){a("6b54"),a("4917"),a("63d9"),a("f751");var n,i=a("6bde");(function(n){if("object"===("undefined"===typeof exports?"undefined":Object(i["a"])(exports))&&"undefined"!==typeof t)t.exports=n();else if("function"===typeof define&&a("3c35"))define([],n);else{var r;r="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,r.Recorder=n()}})(function(){return function e(t,a,i){function r(s,c){if(!a[s]){if(!t[s]){var l="function"==typeof n&&n;if(!c&&l)return n(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=a[s]={exports:{}};t[s][0].call(d.exports,function(e){var a=t[s][1][e];return r(a||e)},d,d.exports,e,t,a,i)}return a[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,a){t.exports=e("./recorder").Recorder},{"./recorder":2}],2:[function(e,t,a){var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(a,"__esModule",{value:!0}),a.Recorder=void 0;var i=e("inline-worker"),r=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=a.Recorder=function(){function e(t,a){var n=this;s(this,e),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},Object.assign(this.config,a),this.context=t.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(e){if(n.recording){for(var t=[],a=0;a<n.config.numChannels;a++)t.push(e.inputBuffer.getChannelData(a));n.worker.postMessage({command:"record",buffer:t})}},t.connect(this.node),this.node.connect(this.context.destination);var i={};this.worker=new r.default(function(){var e=0,t=[],a=void 0,n=void 0;function r(e){a=e.sampleRate,n=e.numChannels,u()}function o(a){for(var i=0;i<n;i++)t[i].push(a[i]);e+=a[0].length}function s(a){for(var r=[],o=0;o<n;o++)r.push(d(t[o],e));var s=void 0;s=2===n?p(r[0],r[1]):r[0];var c=h(s),l=new Blob([c],{type:a});i.postMessage({command:"exportWAV",data:l})}function c(){for(var a=[],r=0;r<n;r++)a.push(d(t[r],e));i.postMessage({command:"getBuffer",data:a})}function l(){e=0,t=[],u()}function u(){for(var e=0;e<n;e++)t[e]=[]}function d(e,t){for(var a=new Float32Array(t),n=0,i=0;i<e.length;i++)a.set(e[i],n),n+=e[i].length;return a}function p(e,t){var a=e.length+t.length,n=new Float32Array(a),i=0,r=0;while(i<a)n[i++]=e[r],n[i++]=t[r],r++;return n}function f(e,t,a){for(var n=0;n<a.length;n++,t+=2){var i=Math.max(-1,Math.min(1,a[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}function v(e,t,a){for(var n=0;n<a.length;n++)e.setUint8(t+n,a.charCodeAt(n))}function h(e){var t=new ArrayBuffer(44+2*e.length),i=new DataView(t);return v(i,0,"RIFF"),i.setUint32(4,36+2*e.length,!0),v(i,8,"WAVE"),v(i,12,"fmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,n,!0),i.setUint32(24,a,!0),i.setUint32(28,4*a,!0),i.setUint16(32,2*n,!0),i.setUint16(34,16,!0),v(i,36,"data"),i.setUint32(40,2*e.length,!0),f(i,44,e),i}i.onmessage=function(e){switch(e.data.command){case"init":r(e.data.config);break;case"record":o(e.data.buffer);break;case"exportWAV":s(e.data.type);break;case"getBuffer":c();break;case"clear":l();break}}},i),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var t=n.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return n(e,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(e){if(e=e||this.config.callback,!e)throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(e,t){if(t=t||this.config.mimeType,e=e||this.config.callback,!e)throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:t})}}],[{key:"forceDownload",value:function(e,t){var a=(window.URL||window.webkitURL).createObjectURL(e),n=window.document.createElement("a");n.href=a,n.download=t||"output.wav";var i=document.createEvent("Event");i.initEvent("click",!0,!0),n.dispatchEvent(i)}}]),e}();a.default=c},{"inline-worker":3}],3:[function(e,t,a){t.exports=e("./inline-worker")},{"./inline-worker":4}],4:[function(t,a,n){(function(e){var t=function(){function e(e,t){for(var a in t){var n=t[a];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(e,t)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=!!(e===e.window&&e.URL&&e.Blob&&e.Worker),r=function(){function a(t,r){var o=this;if(n(this,a),i){var s=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],c=e.URL.createObjectURL(new e.Blob([s],{type:"text/javascript"}));return new e.Worker(c)}this.self=r,this.self.postMessage=function(e){setTimeout(function(){o.onmessage({data:e})},0)},setTimeout(function(){t.call(r)},0)}return t(a,{postMessage:{value:function(e){var t=this;setTimeout(function(){t.self.onmessage({data:e})},0)}}}),a}();a.exports=r}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[1])(1)})}).call(this,a("c8ba"),a("dd40")(e))},"0843":function(e,t,a){},"0b8e":function(e,t,a){"use strict";var n=a("c332"),i=a.n(n);i.a},"15b4":function(e,t,a){"use strict";var n=a("4095"),i=a.n(n);i.a},2856:function(e,t,a){},"3e15":function(e,t,a){},4095:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},r=[],o=(a("5c0b"),a("2877")),s={},c=Object(o["a"])(s,i,r,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-screen"},[a("v-toolbar",{attrs:{fixed:"",dark:"",color:"primary"}},[a("v-icon",{on:{click:function(t){e.$router.go(-1)}}},[e._v("keyboard_backspace")]),a("v-toolbar-title",[e._v("d-DeViS")])],1),a("div",{staticClass:"visualization"},[a("div",{staticClass:"image-zoom"},[a("div",{staticClass:"component"},[a("original-image",{attrs:{hash:e.hash,digit:e.digit,"link-template":e.linkTemplate}}),a("br"),a("original-image",{attrs:{hash:e.hash2,digit:e.digit2,"link-template":e.linkTemplate}})],1)]),a("div",[a("h3",{attrs:{STYLE:"text-align: center"}},[e._v("LAYERS")]),a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.activeLayer,callback:function(t){e.activeLayer=t},expression:"activeLayer"}},[e._l(3,function(t){return a("v-tab",{key:t},[e._v("\n          Layer "+e._s(t)+"\n        ")])}),a("v-tab",[e._v("All Layers")]),e._l(3,function(t){return a("v-tab-item",{key:t},[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Digit "+e._s(e.digit))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":t}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Digit "+e._s(e.digit2))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash2,"current-layer":t}})],1)}),a("v-tab-item",[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 1, Digit "+e._s(e.digit))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":1}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 2, Digit "+e._s(e.digit))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":2}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 2, Digit "+e._s(e.digit))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":3}}),a("br"),a("br"),a("v-divider"),a("v-divider"),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 1, Digit "+e._s(e.digit2))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash2,"current-layer":1}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 2, Digit "+e._s(e.digit2))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash2,"current-layer":2}}),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 3, Digit "+e._s(e.digit2))]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash2,"current-layer":3}})],1)],2)],1)])],1)},p=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layer-component"},[a("div",{staticClass:"img-container"},[a("div",{staticClass:"text-uppercase title text-md-center mb-3"},[e._v("Layer "+e._s(e.layer)+": "+e._s(e.index))]),a("img",{attrs:{src:e.imgSrc,alt:""}}),a("audio",{ref:"audio",attrs:{controls:""}},[a("source",{attrs:{src:e.audioSrc,type:"audio/wav"}})])])])},v=[],h=(a("a481"),a("c5f6"),{1:"first",2:"second",3:"third"}),m={name:"LayerComponent",props:{index:{type:Number,required:!0},layer:{type:Number,required:!0},hash:{type:String,default:""},linkTemplate:{type:String,required:!0,default:""}},computed:{imgSrc:function(){if(this.linkTemplate){var e="".concat(this.hash).concat(h[this.layer]).concat(this.index,".png");return this.linkTemplate.replace("dummy",e)}return""},audioSrc:function(){if(this.linkTemplate){var e="".concat(this.hash).concat(h[this.layer]).concat(this.index,".wav");return this.linkTemplate.replace("dummy",e)}return""}},methods:{playAudio:function(){this.$refs["audio"].play().catch(function(e){return console.log(e)})}}},g=m,y=(a("b883"),Object(o["a"])(g,f,v,!1,null,"a3ec775e",null));y.options.__file="LayerComponent.vue";var b=y.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a(e.currentComponent,{tag:"component",on:{"upload-start":function(t){e.uploading=!0},upload:e.uploadFile,"back-click":function(t){e.currentComponent="formUpload"},"on-recorder-selected":e.showRecorder}}),e.uploading?a("div",[a("v-progress-circular",{attrs:{indeterminate:e.isInfinite,color:"#0101d5"}}),a("br"),a("br"),a("p",{staticClass:"message"},[e._v("Predicting")])],1):e._e()],1)},k=[],_=a("bc3a"),x=a.n(_),C=!0,S=C?"/api/":"http://localhost:5000/api/",T=x.a.create({baseURL:S,timeout:1e4,headers:{"Content-Type":"application/json"}});T.interceptors.request.use(function(e){return e.headers["Authorization"]="Fake Token",e}),T.interceptors.response.use(function(e){return e},function(e){return console.log(e),Promise.reject(e)}),console.log(T);var L={post:T.post,get:T.get,domain:C?"":"http://localhost:5000"},R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{enctype:"multipart/form-data"}},[a("input",{staticClass:"inputfile inputfile-4",attrs:{type:"file",name:"file",id:"audioInput"},on:{change:e.uploadFile}}),a("label",{attrs:{for:"audioInput"}},[a("figure",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"5",height:"5",viewBox:"0 0 20 17"}},[a("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})])]),a("span",[e._v("Upload")])]),a("span",{staticClass:"record-btn",on:{click:e.onRecordClicked}},[a("figure",[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"5",height:"5",viewBox:"0 0 60 60"}},[a("g",[a("path",{attrs:{d:"M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6   c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051   c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z",fill:"#FFFFFF"}}),a("path",{attrs:{d:"M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z",fill:"#FFFFFF"}})])])]),a("span",[e._v("Record")])]),a("br")])},U=[],M={name:"FormUpload",data:function(){return{uploading:!1,uploadProgress:0,isInfinite:!0,message:"Uploading"}},methods:{uploadFile:function(e){var t=this,a=new FormData,n=e.target.files[0];if(n){a.append("file",n),this.$emit("upload-start");var i={headers:{"Content-Type":"multipart/form-data"}};L.post("/resources/audio",a,i).then(function(e){return e.data}).then(function(e){e.success&&t.$emit("upload",e)}).catch(function(e){return console.log(e)})}else console.log("no file")},onRecordClicked:function(){console.log("record"),this.$emit("on-recorder-selected")}}},O=M,A=(a("cd98"),Object(o["a"])(O,R,U,!1,null,"7ce59154",null));A.options.__file="FormUpload.vue";var D,F=A.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recorder"},[a("i",{staticClass:"back-button",on:{click:e.goBack}},[e._v("←")]),a("div",{staticClass:"microphone"},[a("span"),a("svg",{class:e.svgClass,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"5",height:"5",viewBox:"0 0 58 60"}},[a("g",[a("path",{attrs:{d:"M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6   c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051   c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z",fill:"#54a0e4"}}),a("path",{attrs:{d:"M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z",fill:"#54a0e4"}})])])]),a("br"),e.showMessage?a("p",{staticClass:"body-2"},[e._v("Wait for the beep to sound...")]):e._e(),a("div",{staticClass:"actions"},[a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"waiting"===e.status,expression:"status==='waiting'"}],attrs:{depressed:""},on:{click:e.record}},[a("i",{staticClass:"btn-icon",staticStyle:{color:"red","margin-left":"-4px"}},[e._v("●")]),e._v("\n        Record\n      ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"recording"===e.status,expression:"status==='recording'"}],attrs:{depressed:""},on:{click:e.stop}},[a("i",{staticClass:"btn-icon",staticStyle:{"margin-left":"-5px"}},[e._v("■")]),e._v("\n        Stop\n      ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"stopped"===e.status,expression:"status === 'stopped'"}]},[a("v-btn",{attrs:{depressed:""},on:{click:function(t){e.status="waiting"}}},[a("i",{staticClass:"btn-icon"},[e._v("❌")]),e._v("\n          Discard\n        ")]),a("v-btn",{attrs:{depressed:""},on:{click:e.play}},[a("v-icon",[e._v("play_arrow")]),e._v("\n          play\n        ")],1),a("v-btn",{attrs:{depressed:""},on:{click:e.predict}},[a("i",{staticClass:"btn-icon"},[e._v("✅")]),e._v("\n          predict\n        ")])],1)],1)])])},E=[],j=(a("7f7f"),a("056f"),a("9ae0")),$=a.n(j),N=new Audio($.a),V=null;function P(){var e;function t(t){var a=e.createMediaStreamSource(t);console.log("Media stream created."),D=new Recorder(a),console.log("Recorder initialised.")}try{window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,window.URL=window.URL||window.webkitURL,e=new AudioContext,console.log("Audio context set up."),console.log("navigator.getUserMedia "+(navigator.getUserMedia?"available.":"not present!"))}catch(e){alert("No web audio support in this browser!")}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia({audio:!0},t,function(e){"NotAllowedError"===e.name&&alert("Permission to use microphone was not authorized. Please refresh the browser to try again.")})}var B={name:"AudioRecorder",data:function(){return{status:"waiting",showMessage:!1,recordedSrc:""}},created:function(){P()},methods:{goBack:function(){this.$emit("back-click")},record:function(){var e=this;this.showMessage=!0,this.status="beforeRecording",setTimeout(function(){e.showMessage=!1,N.play().catch(function(e){return console.log(e)}),setTimeout(function(){e.status="recording",D.record()},300)},1e3)},play:function(){var e=new Audio(this.recordedSrc);e.play().catch(function(e){return console.log(e)})},stop:function(){var e=this;D&&D.stop(),this.status="stopped",D.exportWAV(function(t){V=t,e.recordedSrc=URL.createObjectURL(V),D.clear()})},predict:function(){var e=this,t=new FormData;t.append("file",V),this.$emit("upload-start");var a={headers:{"Content-Type":"multipart/form-data"}};L.post("/resources/audio",t,a).then(function(e){return e.data}).then(function(t){t.success&&(console.log(t),e.$emit("upload",t))}).catch(function(e){return console.log(e)})}},computed:{svgClass:function(){return"recording"!==this.status?{animated:!1}:{animated:!0}}}},z=B,W=(a("f649"),Object(o["a"])(z,I,E,!1,null,"3560a31a",null));W.options.__file="AudioRecorder.vue";var q=W.exports,J={name:"AudioUploadOptions",components:{formUpload:F,audioRecorder:q},data:function(){return{uploading:!1,uploadProgress:0,currentComponent:"formUpload",isInfinite:!0}},methods:{showRecorder:function(){this.currentComponent="audioRecorder"},uploadFile:function(e){this.$emit("upload",e)}}},G=J,Y=(a("6772"),Object(o["a"])(G,w,k,!1,null,"6dd09e0e",null));Y.options.__file="AudioUploadOptions.vue";var X=Y.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"headline mb-2 text-md-center text-uppercase"},[e._v("PREDICTED DIGIT: "+e._s(e.digit))]),a("img",{attrs:{src:e.imageSrc,alt:""}}),a("audio",{ref:"originalAudio"},[a("source",{attrs:{src:e.audioSrc,type:"audio/wav"}})]),a("div",[a("v-btn",{on:{click:e.play}},[a("v-icon",[e._v("play_arrow")]),e._v("play")],1),a("v-btn",{on:{click:function(t){e.waveformDialog=!0}}},[e._v("WAVEFORM")])],1),a("div",[a("v-dialog",{attrs:{width:"80%"},model:{value:e.waveformDialog,callback:function(t){e.waveformDialog=t},expression:"waveformDialog"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline text-center"},[e._v("WAVEFORM, DIGIT "+e._s(e.digit))])]),a("v-card-text",[a("img",{staticClass:"waveform-img",attrs:{src:e.waveformSrc,alt:""}})])],1)],1)],1)])},K=[],Q={name:"ImageOriginal",props:{hash:String,linkTemplate:String,digit:Number},data:function(){return{waveformDialog:!1}},methods:{play:function(){new Audio(this.audioSrc).play().catch()}},computed:{imageSrc:function(){var e="".concat(this.hash,"original_spectogram.png");return this.linkTemplate.replace("dummy",e)},waveformSrc:function(){var e="".concat(this.hash,"original.png");return this.linkTemplate.replace("dummy",e)},audioSrc:function(){var e="".concat(this.hash,"original.wav");return this.linkTemplate.replace("dummy",e)}}},Z=Q,ee=(a("8ea9"),Object(o["a"])(Z,H,K,!1,null,"4bb53b9c",null));ee.options.__file="ImageOriginal.vue";var te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"image-grid"},e._l(16,function(t){return a("img",{attrs:{src:e.imageSrc(t),"data-index":t},on:{click:e.display}})})),a("div",{staticStyle:{"text-align":"center"}},[a("v-btn",{on:{click:function(t){e.weightDialog=!0}}},[e._v("Weight Distribution")])],1),a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.imageDialog,callback:function(t){e.imageDialog=t},expression:"imageDialog"}},[a("v-card",[a("v-card-text",[a("layer-component",{attrs:{index:e.currentIndex,layer:e.currentLayer,hash:e.hash,"link-template":e.linkTemplate}})],1)],1)],1)],1),a("div",[a("v-dialog",{attrs:{width:"760px"},model:{value:e.weightDialog,callback:function(t){e.weightDialog=t},expression:"weightDialog"}},[a("v-card",[a("div",{staticClass:"headline text-md-center pt-4"},[e._v("WEIGHT DISTRIBUTION, LAYER "+e._s(e.currentLayer))]),a("v-card-text",[a("img",{attrs:{src:e.weightImageSrc,alt:""}})])],1)],1)],1)])},ne=[],ie=[,"first","second","third"],re={name:"SoundLayer",components:{layerComponent:b},props:{currentLayer:{type:Number,default:1},linkTemplate:{type:String,default:"",required:!0},hash:String},data:function(){return{weightDialog:!1,imageDialog:!1,currentIndex:1}},computed:{weightImageSrc:function(){var e="".concat(this.hash).concat(ie[this.currentLayer],"_distribution.png");return this.linkTemplate.replace("dummy",e)}},methods:{display:function(e){var t=e.target;this.currentIndex=parseInt(t.dataset.index),this.imageDialog=!0},imageSrc:function(e){var t="".concat(this.hash).concat(ie[this.currentLayer]).concat(e,".png");return this.linkTemplate.replace("dummy",t)}}},oe=re,se=(a("9ee3"),Object(o["a"])(oe,ae,ne,!1,null,"31272a7e",null));se.options.__file="SoundLayer.vue";var ce=se.exports,le=(console.log,{name:"VisualizeLayer",components:{layerComponent:b,uploadForm:X,originalImage:te,soundLayer:ce},created:function(){var e=localStorage.getItem("serverResponse"),t=localStorage.getItem("serverResponse2");e&&t?(e=JSON.parse(e),t=JSON.parse(t),this.digit=parseInt(e.data),this.digit2=parseInt(t.data),this.linkTemplate=L.domain+e["link_template"],this.hash=e.hash,this.hash2=t.hash):alert("The model was not loaded successfully. Try uploading the file again.")},data:function(){return{activeLayer:0,digit:"",linkTemplate:"",hash:"",digit2:"",hash2:""}}}),ue=le,de=(a("744d"),Object(o["a"])(ue,d,p,!1,null,"6ddb515f",null));de.options.__file="CompareSound.vue";var pe=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12",attrs:{height:"400px"}},[a("v-card-text",[a("div",{staticClass:"form-holder"},[a("upload-form",{on:{upload:e.onUploaded}})],1)])],1)],1)],1)],1)],1)},ve=[],he={name:"Login",components:{uploadForm:X},methods:{onUploaded:function(e){localStorage.setItem("serverResponse",JSON.stringify(e)),this.$router.push("/layers")}}},me=he,ge=(a("0b8e"),Object(o["a"])(me,fe,ve,!1,null,"fc4228fa",null));ge.options.__file="FileUpload.vue";var ye=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-screen"},[a("v-toolbar",{attrs:{fixed:"",dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("d-DeViS")]),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[a("v-divider",{attrs:{vertical:""}}),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.modify=!0}}},[e._v("Modify")]),a("v-divider",{attrs:{vertical:""}}),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.newAudio=!0}}},[e._v("Compare")]),a("v-divider",{attrs:{vertical:""}})],1)],1),a("div",[a("v-dialog",{attrs:{width:"500"},model:{value:e.newAudio,callback:function(t){e.newAudio=t},expression:"newAudio"}},[a("v-card",[a("v-card-text",[a("upload-form",{on:{upload:e.onUpload}})],1)],1)],1)],1),a("div",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.modify,callback:function(t){e.modify=t},expression:"modify"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.modify=!1}}},[a("v-icon",[e._v("keyboard_backspace")])],1),a("v-toolbar-title",[e._v("Modify Sound")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){return e.predict(t)}}},[e._v("Predict")])],1)],1),a("div",{staticClass:"original-image"},[a("img",{attrs:{src:e.waveformSrc,alt:""}})]),a("div",{staticClass:"sliders"},["slice"===e.modifier?a("v-range-slider",{attrs:{"thumb-label":"always"},model:{value:e.parameters.slicing,callback:function(t){e.$set(e.parameters,"slicing",t)},expression:"parameters.slicing"}}):e._e(),"crossfade"===e.modifier?a("v-range-slider",{attrs:{"thumb-label":"always"},model:{value:e.parameters.crossfading,callback:function(t){e.$set(e.parameters,"crossfading",t)},expression:"parameters.crossfading"}}):e._e(),"fade"===e.modifier?a("v-slider",{attrs:{"thumb-label":"always"},model:{value:e.parameters.fade,callback:function(t){e.$set(e.parameters,"fade",t)},expression:"parameters.fade"}}):e._e(),a("v-menu",{staticStyle:{"max-width":"600px"},attrs:{absolute:"","position-x":e.x,"position-y":e.y},model:{value:e.menu.loudness,callback:function(t){e.$set(e.menu,"loudness",t)},expression:"menu.loudness"}},[a("v-list",e._l(7,function(t){return a("v-list-tile",{key:t,on:{click:function(a){e.applyLoudness(t)}}},[a("v-list-tile-title",[e._v(e._s(t)+" dB")])],1)}))],1),a("v-menu",{staticStyle:{"max-width":"600px"},attrs:{absolute:"","position-x":e.x,"position-y":e.y},model:{value:e.menu.repeat,callback:function(t){e.$set(e.menu,"repeat",t)},expression:"menu.repeat"}},[a("v-list",e._l(3,function(t){return a("v-list-tile",{key:t,on:{click:function(a){e.applyRepeat(t)}}},[a("v-list-tile-title",[e._v(e._s(t))])],1)}))],1)],1),a("div",{staticClass:"actions"},[""===e.modifier?a("div",{staticClass:"modifiers"},[a("v-btn",{on:{click:e.play}},[a("v-icon",[e._v("play_arrow")]),e._v("Play")],1),a("v-btn",{on:{click:function(t){e.modifier="slice"}}},[e._v("Slice")]),a("v-btn",{on:{click:function(t){e.modifier="crossfade"}}},[e._v("Crossfade")]),a("v-btn",{on:{click:e.showLoudnessMenu}},[e._v("Loudness")]),a("v-btn",{on:{click:function(t){e.modifier="fade"}}},[e._v("Fade")]),a("v-btn",{on:{click:e.showRepeatMenu}},[e._v("Repeat")])],1):a("div",{staticClass:"prompt"},[a("v-btn",{on:{click:function(t){e.modifier=""}}},[a("i",{staticClass:"btn-icon"},[e._v("❌")]),e._v("\n              Discard\n            ")]),a("v-btn",{on:{click:e.apply}},[a("i",{staticClass:"btn-icon"},[e._v("✅")]),e._v("\n              Apply\n            ")])],1)])],1)],1)],1),a("div",{staticClass:"visualization"},[a("div",{staticClass:"image-zoom"},[a("div",{staticClass:"component"},[a("original-image",{attrs:{hash:e.hash,digit:e.digit,"link-template":e.linkTemplate}})],1)]),a("div",[a("h3",{staticClass:"headline mb-2 text-md-center text-uppercase"},[e._v("LAYERS")]),a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.activeLayer,callback:function(t){e.activeLayer=t},expression:"activeLayer"}},[e._l(3,function(t){return a("v-tab",{key:t},[e._v("\n          Layer "+e._s(t)+"\n        ")])}),a("v-tab",[e._v("All Layers")]),e._l(3,function(t){return a("v-tab-item",{key:t},[a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":t}})],1)}),a("v-tab-item",[a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 1")]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":1}}),a("v-divider"),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 2")]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":2}}),a("v-divider"),a("div",{staticClass:"title ma-4 text-uppercase",staticStyle:{"text-align":"center"}},[e._v("Layer 3")]),a("sound-layer",{attrs:{"link-template":e.linkTemplate,hash:e.hash,"current-layer":3}}),a("v-divider")],1)],2)],1)])],1)},we=[],ke=(a("ac6a"),a("456d"),console.log),_e={name:"VisualizeLayer",components:{layerComponent:b,uploadForm:X,originalImage:te,soundLayer:ce},created:function(){var e=localStorage.getItem("serverResponse");ke(e),e?(e=JSON.parse(e),console.log(e),this.digit=parseInt(e.data),this["linkTemplate"]=L.domain+e["link_template"],this.hash=e.hash):alert("The model was not loaded successfully. Try uploading the file again.")},data:function(){return{newAudio:!1,activeLayer:0,digit:"",linkTemplate:"",hash:"",dialog:!1,currentIndex:1,currentLayer:1,originalFileName:"original",modify:!1,modifier:"",x:0,y:0,menu:{repeat:!1,loudness:!1},parameters:{slicing:[0,100],crossfading:[50,52],loudness:0,fade:0,repeat:0}}},watch:{originalFileName:function(e,t){ke(e,t)}},methods:{onUpload:function(e){localStorage.setItem("serverResponse2",JSON.stringify(e)),this.$router.push("/compare")},showLoudnessMenu:function(e){var t=this;e.preventDefault(),this.menu.loudness=!1,this.x=e.clientX,this.y=e.clientY,this.$nextTick(function(){t.menu.loudness=!0})},showRepeatMenu:function(e){var t=this;e.preventDefault(),this.menu.repeat=!1,this.x=e.clientX,this.y=e.clientY,this.$nextTick(function(){t.menu.repeat=!0})},sendModificationRequest:function(e){var t=this;e.hash=this.hash,e.filename=this.originalFileName,L.get("resources/waveform",{params:e}).then(function(e){console.log(e),t.originalFileName=e.data.filename,t.modifier=""}).catch(function(e){return console.log(e)})},apply:function(){var e={};switch(this.modifier){case"slice":e.sliceStart=this.parameters.slicing[0],e.sliceEnd=this.parameters.slicing[1];break;case"crossfade":e.crossfadingStart=this.parameters.crossfading[0],e.crossfadingEnd=this.parameters.crossfading[1];break;case"fade":e.fade=this.parameters.fade;break}0!==Object.keys(e).length&&this.sendModificationRequest(e)},applyLoudness:function(e){var t={loud:e};this.sendModificationRequest(t)},applyRepeat:function(e){var t={repeat:e};this.sendModificationRequest(t)},predict:function(){var e=this,t={fname:this.originalFileName,hash:this.hash},a=this;L.post("/resources/audio",t).then(function(e){return e.data}).then(function(t){console.log(t),localStorage.setItem("serverResponse",JSON.stringify(t)),a.digit=t.data,a.linkTemplate=L.domain+t["link_template"],a.hash=t.hash,e.originalFileName="original",e.modify=!1,a.$forceUpdate()}).catch(function(e){return console.log(e)})},play:function(){var e="".concat(this.hash).concat(this.originalFileName,".wav"),t=this.linkTemplate.replace("dummy",e);console.log(t);var a=new Audio(t);a.play().catch(function(e){return console.log(e)})}},computed:{waveformSrc:function(){var e="".concat(this.hash).concat(this.originalFileName,".png");return this.linkTemplate.replace("dummy",e)}}},xe=_e,Ce=(a("15b4"),Object(o["a"])(xe,be,we,!1,null,"7c22f704",null));Ce.options.__file="VisualizeLayer.vue";var Se=Ce.exports;n["default"].use(u["a"]);var Te=new u["a"]({routes:[{path:"/",name:"Upload",component:ye},{path:"/layers",name:"layers",component:Se},{path:"/compare",name:"compare",component:pe}]}),Le=a("2f62");n["default"].use(Le["a"]);var Re={state:{title:"",pageLinks:[]},mutations:{},actions:{}},Ue=a("ce5b"),Me=a.n(Ue),Oe=(a("bf40"),{formatTimestamp:function(e){var t=new Date(e);return t.toLocaleTimeString("en-US")}});Object.keys(Oe).forEach(function(e){n["default"].filter(e,Oe[e])}),n["default"].config.productionTip=!1,n["default"].use(Me.a),new n["default"]({router:Te,store:Re,render:function(e){return e(l)}}).$mount("#app")},"58ca":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("2856"),i=a.n(n);i.a},"5d40":function(e,t,a){},6772:function(e,t,a){"use strict";var n=a("0843"),i=a.n(n);i.a},"744d":function(e,t,a){"use strict";var n=a("3e15"),i=a.n(n);i.a},"7ec5":function(e,t,a){},"8ea9":function(e,t,a){"use strict";var n=a("5d40"),i=a.n(n);i.a},"9ae0":function(e,t,a){e.exports=a.p+"media/beep.44496060.wav"},"9ee3":function(e,t,a){"use strict";var n=a("a810"),i=a.n(n);i.a},a810:function(e,t,a){},b883:function(e,t,a){"use strict";var n=a("58ca"),i=a.n(n);i.a},bf4a:function(e,t,a){},c332:function(e,t,a){},cd98:function(e,t,a){"use strict";var n=a("7ec5"),i=a.n(n);i.a},f649:function(e,t,a){"use strict";var n=a("bf4a"),i=a.n(n);i.a}});
//# sourceMappingURL=app.733d1e57.js.map